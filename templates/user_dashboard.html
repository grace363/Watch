<body>
    <!-- Hamburger Menu Trigger -->
    <input type="checkbox" id="menu-toggle" style="display: none;">
    <label for="menu-toggle" id="hamburger-icon" style="position: fixed; top: 20px; left: 20px; z-index: 2000; cursor: pointer;">
        <i class="fas fa-bars" style="font-size: 1.5rem; color: white;"></i>
    </label><!-- Sidebar Menu -->
<div id="side-menu" style="position: fixed; top: 0; left: -250px; width: 250px; height: 100%; background: #fff; box-shadow: 2px 0 5px rgba(0,0,0,0.1); z-index: 1500; transition: left 0.3s;">
    <div style="padding: 1.5rem 1rem; border-bottom: 1px solid #eee; background: #667eea; color: white;">
        <h2 style="margin-bottom: 0;">Menu</h2>
    </div>
    <ul style="list-style: none; padding: 1rem;">
        <li style="margin: 1rem 0;">
            <a href="{{ url_for('profile') }}" style="color: #333; text-decoration: none;">
                <i class="fas fa-user"></i> Profile
            </a>
        </li>
        <li style="margin: 1rem 0;">
            <a href="{{ url_for('withdraw') }}" style="color: #333; text-decoration: none;">
                <i class="fas fa-wallet"></i> Withdraw
            </a>
        </li>
        <li style="margin: 1rem 0;">
            <a href="#" style="color: #333; text-decoration: none;">
                <i class="fas fa-cogs"></i> Settings
            </a>
        </li>
        <li style="margin: 1rem 0;">
            <a href="#" style="color: #333; text-decoration: none;">
                <i class="fas fa-life-ring"></i> Support
            </a>
        </li>
        {% if session.user_id and user and user.account_type == 'YouTuber' %}
        <li style="margin: 1rem 0;">
            <a href="{{ url_for('youtuber_dashboard') }}" style="color: #333; text-decoration: none;">
                <i class="fab fa-youtube"></i> YouTuber Dashboard
            </a>
        </li>
        {% endif %}
        <li style="margin: 1rem 0;">
            <a href="{{ url_for('logout') }}" style="color: #ff4757; text-decoration: none;">
                <i class="fas fa-sign-out-alt"></i> Logout
            </a>
        </li>
    </ul>
</div>

<!-- Sidebar Toggle Script -->
<script>
    const toggleCheckbox = document.getElementById("menu-toggle");
    const menu = document.getElementById("side-menu");

    toggleCheckbox.addEventListener("change", function () {
        if (this.checked) {
            menu.style.left = "0";
        } else {
            menu.style.left = "-250px";
        }
    });
</script>

<!-- Dashboard Header -->
<div class="dashboard-header">
    <div class="header-content" style="flex-wrap: wrap; justify-content: space-between;">
        <div style="display: flex; align-items: center; gap: 1rem;">
            <div class="logo">
                <i class="fas fa-play-circle"></i> Watch & Earn
            </div>
            <div style="font-weight: 500; color: #333;">
                <i class="fas fa-envelope"></i> {{ user.email }}
            </div>
        </div>
        <div style="display: flex; align-items: center; gap: 1rem;">
            <div class="balance">
                <i class="fas fa-dollar-sign"></i> ${{ "%.2f"|format(user.balance_usd) }}
            </div>
            <a href="#" class="nav-link" style="background: #4CAF50;">
                <i class="fas fa-headset"></i> Support
            </a>
        </div>
    </div>
</div>

<!-- Continue original container and content -->
<div class="container">
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ 'error' if category == 'error' else 'success' if category == 'success' else 'warning' }}">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <!-- Daily Bonus Section -->
    {% if not user.daily_bonus_given %}
    <div id="dailyBonusBox" style="background: linear-gradient(to right, #36d1dc, #5b86e5); color: white; padding: 1rem; border-radius: 12px; margin-bottom: 1rem; text-align: center;">
        <h3>üéÅ Claim Your Daily Bonus</h3>
        <p>Time online: <span id="timer">0</span>s / {{ DAILY_ONLINE_TIME or 60 }}s</p>
        <button id="claimBonusBtn" style="margin-top: 1rem; background: #fff; color: #36d1dc; border: none; padding: 0.6rem 1.5rem; border-radius: 25px; cursor: pointer; font-weight: bold;" disabled>
            Claim ${{ DAILY_REWARD or 0.05 }}
        </button>
    </div>
    <script>
        let bonusTime = {{ user.daily_online_time or 0 }};
        const requiredTime = {{ DAILY_ONLINE_TIME or 60 }};
        const timerEl = document.getElementById('timer');
        const claimBtn = document.getElementById('claimBonusBtn');
        const bonusBox = document.getElementById('dailyBonusBox');

        function updateBonusTimer() {
            bonusTime++;
            timerEl.textContent = bonusTime;

            if (bonusTime >= requiredTime) {
                claimBtn.disabled = false;
            }
        }

        claimBtn.addEventListener('click', () => {
            fetch('/api/claim_daily_bonus', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': document.querySelector('[name="csrf_token"]').value
                },
                body: JSON.stringify({})
            }).then(res => res.json()).then(data => {
                if (data.success) {
                    bonusBox.style.display = 'none';
                    alert('Bonus Claimed!');
                }
            });
        });

        setInterval(updateBonusTimer, 1000);
    </script>
    {% endif %}

    <!-- stats-grid, bonus section, videos-section, earnings-section -->
    <!-- (Retained without modification ‚Äî keep everything originally posted below this container) -->
</div>

</body>
